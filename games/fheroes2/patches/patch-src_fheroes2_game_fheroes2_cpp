$OpenBSD$
--- src/fheroes2/game/fheroes2.cpp.orig	Sun Dec 25 17:40:24 2011
+++ src/fheroes2/game/fheroes2.cpp	Sun Dec 25 17:54:55 2011
@@ -20,9 +20,16 @@
  *   59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.             *
  ***************************************************************************/
 
-#include <unistd.h>
+#include <errno.h>
+#include <fcntl.h>
 #include <iostream>
+#include <stdio.h>
+#include <stdlib.h>
 #include <string>
+#include <unistd.h>
+#include <sys/param.h>
+#include <sys/types.h>
+#include <sys/stat.h>
 
 #include "gamedefs.h"
 #include "engine.h"
@@ -360,6 +367,21 @@ void ReadConfigFile(Settings & conf)
 
 void LoadConfigFiles(Settings & conf, const std::string & dirname)
 {
+    char *homedir;
+    char path2[MAXPATHLEN];
+
+    if((homedir = getenv("HOME")) != NULL)
+    {
+        snprintf(path2, MAXPATHLEN, "%s/.fheroes2/", homedir);
+        // mkdir it if it doesn't exist.
+        if(mkdir(path2, 0755) == 0 || errno == EEXIST)
+        {
+            conf.SetLocalPrefix(path2);
+            ReadConfigFile(conf);
+            return;
+        }
+    }
+
     // prefix from build
 #ifdef CONFIGURE_FHEROES2_DATA
     conf.SetLocalPrefix(CONFIGURE_FHEROES2_DATA);
